<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Bring multiple raw taxonomies into alignment — normalizeTaxa • taxonomizr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Bring multiple raw taxonomies into alignment — normalizeTaxa"><meta name="description" content="Combine the raw taxonomy of several taxa into a single matrix where each row corresponds to a taxa and each column a taxonomic level. Named taxonomic levels are aligned between taxa then any unspecified clades are combined between the named levels. Taxonomic levels between named levels are arbitrarily combined from most generic to most specific. Working from the data provided in the NCBI taxonomy results in ambiguities so results should be used with care."><meta property="og:description" content="Combine the raw taxonomy of several taxa into a single matrix where each row corresponds to a taxa and each column a taxonomic level. Named taxonomic levels are aligned between taxa then any unspecified clades are combined between the named levels. Taxonomic levels between named levels are arbitrarily combined from most generic to most specific. Working from the data provided in the NCBI taxonomy results in ambiguities so results should be used with care."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">taxonomizr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.11.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/usage.html">taxonomizr usage</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/sherrillmix/taxonomizr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Bring multiple raw taxonomies into alignment</h1>
      <small class="dont-index">Source: <a href="https://github.com/sherrillmix/taxonomizr/blob/HEAD/R/taxa.R"><code>R/taxa.R</code></a></small>
      <div class="d-none name"><code>normalizeTaxa.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Combine the raw taxonomy of several taxa into a single matrix where each row corresponds to a taxa and each column a taxonomic level. Named taxonomic levels are aligned between taxa then any unspecified clades are combined between the named levels. Taxonomic levels between named levels are arbitrarily combined from most generic to most specific. Working from the data provided in the NCBI taxonomy results in ambiguities so results should be used with care.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">normalizeTaxa</span><span class="op">(</span></span>
<span>  <span class="va">rawTaxa</span>,</span>
<span>  cladeRegex <span class="op">=</span> <span class="st">"^clade$|^clade\\.[0-9]+$|^$|no rank"</span>,</span>
<span>  rootFill <span class="op">=</span> <span class="st">"_ROOT_"</span>,</span>
<span>  lineageOrder <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-rawtaxa">rawTaxa<a class="anchor" aria-label="anchor" href="#arg-rawtaxa"></a></dt>
<dd><p>A list of vectors with each vector containing a named character vector with entries specifying taxonomy for a clade and names giving the corresponding taxonomic levels e.g. the output from <code><a href="getRawTaxonomy.html">getRawTaxonomy</a></code></p></dd>


<dt id="arg-claderegex">cladeRegex<a class="anchor" aria-label="anchor" href="#arg-claderegex"></a></dt>
<dd><p>A regex to identify ambiguous taxonomic levels. In the case of NCBI taxonomy, these unidentified levels are all labelled "clade" and <code><a href="getRawTaxonomy.html">getRawTaxonomy</a></code> may attach a unique digit attach to the end for uniqueness.</p></dd>


<dt id="arg-rootfill">rootFill<a class="anchor" aria-label="anchor" href="#arg-rootfill"></a></dt>
<dd><p>If a clade is upstream of the highest taxonomic level then it will be labeled with this prefix</p></dd>


<dt id="arg-lineageorder">lineageOrder<a class="anchor" aria-label="anchor" href="#arg-lineageorder"></a></dt>
<dd><p>A vector giving an ordering for lineages from most specific to most generic. This should be unnecessary unless the taxonomy contains ambiguities e.g. one taxa goes from species to kingdom while another goes from genus to kingdom leaving it ambiguous whether genus or species is more specific</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a matrix with a row for each taxa and a column for each taxonomic level</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="getRawTaxonomy.html">getRawTaxonomy</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">rawTaxa</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>   <span class="st">'81907'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>species <span class="op">=</span> <span class="st">"Alectura lathami"</span>, genus <span class="op">=</span> <span class="st">"Alectura"</span>,</span></span>
<span class="r-in"><span>     family <span class="op">=</span> <span class="st">"Megapodiidae"</span>, order <span class="op">=</span> <span class="st">"Galliformes"</span>, superorder <span class="op">=</span> <span class="st">"Galloanserae"</span>,</span></span>
<span class="r-in"><span>     infraclass <span class="op">=</span> <span class="st">"Neognathae"</span>, class <span class="op">=</span> <span class="st">"Aves"</span>, clade <span class="op">=</span> <span class="st">"Coelurosauria"</span>,</span></span>
<span class="r-in"><span>     clade.1 <span class="op">=</span> <span class="st">"Theropoda"</span>, clade.2 <span class="op">=</span> <span class="st">"Saurischia"</span>, clade.3 <span class="op">=</span> <span class="st">"Dinosauria"</span>,</span></span>
<span class="r-in"><span>     clade.4 <span class="op">=</span> <span class="st">"Archosauria"</span>, clade.5 <span class="op">=</span> <span class="st">"Archelosauria"</span>, clade.6 <span class="op">=</span> <span class="st">"Sauria"</span>,</span></span>
<span class="r-in"><span>     clade.7 <span class="op">=</span> <span class="st">"Sauropsida"</span>, clade.8 <span class="op">=</span> <span class="st">"Amniota"</span>, clade.9 <span class="op">=</span> <span class="st">"Tetrapoda"</span>,</span></span>
<span class="r-in"><span>     clade.10 <span class="op">=</span> <span class="st">"Dipnotetrapodomorpha"</span>, superclass <span class="op">=</span> <span class="st">"Sarcopterygii"</span>,</span></span>
<span class="r-in"><span>     clade.11 <span class="op">=</span> <span class="st">"Euteleostomi"</span>, clade.12 <span class="op">=</span> <span class="st">"Teleostomi"</span>, clade.13 <span class="op">=</span> <span class="st">"Gnathostomata"</span>,</span></span>
<span class="r-in"><span>     clade.14 <span class="op">=</span> <span class="st">"Vertebrata"</span>, subphylum <span class="op">=</span> <span class="st">"Craniata"</span>, phylum <span class="op">=</span> <span class="st">"Chordata"</span>,</span></span>
<span class="r-in"><span>     clade.15 <span class="op">=</span> <span class="st">"Deuterostomia"</span>, clade.16 <span class="op">=</span> <span class="st">"Bilateria"</span>, clade.17 <span class="op">=</span> <span class="st">"Eumetazoa"</span>,</span></span>
<span class="r-in"><span>     kingdom <span class="op">=</span> <span class="st">"Metazoa"</span>, clade.18 <span class="op">=</span> <span class="st">"Opisthokonta"</span>, domain <span class="op">=</span> <span class="st">"Eukaryota"</span>,</span></span>
<span class="r-in"><span>     <span class="st">'no rank'</span> <span class="op">=</span> <span class="st">"cellular organisms"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   <span class="st">'8496'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>species <span class="op">=</span> <span class="st">"Alligator mississippiensis"</span>,</span></span>
<span class="r-in"><span>     genus <span class="op">=</span> <span class="st">"Alligator"</span>, subfamily <span class="op">=</span> <span class="st">"Alligatorinae"</span>, family <span class="op">=</span> <span class="st">"Alligatoridae"</span>,</span></span>
<span class="r-in"><span>     order <span class="op">=</span> <span class="st">"Crocodylia"</span>, clade <span class="op">=</span> <span class="st">"Archosauria"</span>, clade.1 <span class="op">=</span> <span class="st">"Archelosauria"</span>,</span></span>
<span class="r-in"><span>     clade.2 <span class="op">=</span> <span class="st">"Sauria"</span>, clade.3 <span class="op">=</span> <span class="st">"Sauropsida"</span>, clade.4 <span class="op">=</span> <span class="st">"Amniota"</span>,</span></span>
<span class="r-in"><span>     clade.5 <span class="op">=</span> <span class="st">"Tetrapoda"</span>, clade.6 <span class="op">=</span> <span class="st">"Dipnotetrapodomorpha"</span>, superclass <span class="op">=</span> <span class="st">"Sarcopterygii"</span>,</span></span>
<span class="r-in"><span>     clade.7 <span class="op">=</span> <span class="st">"Euteleostomi"</span>, clade.8 <span class="op">=</span> <span class="st">"Teleostomi"</span>, clade.9 <span class="op">=</span> <span class="st">"Gnathostomata"</span>,</span></span>
<span class="r-in"><span>     clade.10 <span class="op">=</span> <span class="st">"Vertebrata"</span>, subphylum <span class="op">=</span> <span class="st">"Craniata"</span>, phylum <span class="op">=</span> <span class="st">"Chordata"</span>,</span></span>
<span class="r-in"><span>     clade.11 <span class="op">=</span> <span class="st">"Deuterostomia"</span>, clade.12 <span class="op">=</span> <span class="st">"Bilateria"</span>, clade.13 <span class="op">=</span> <span class="st">"Eumetazoa"</span>,</span></span>
<span class="r-in"><span>     kingdom <span class="op">=</span> <span class="st">"Metazoa"</span>, clade.14 <span class="op">=</span> <span class="st">"Opisthokonta"</span>, domain <span class="op">=</span> <span class="st">"Eukaryota"</span>,</span></span>
<span class="r-in"><span>     <span class="st">'no rank'</span> <span class="op">=</span> <span class="st">"cellular organisms"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   <span class="st">'38654'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>species <span class="op">=</span> <span class="st">"Alligator sinensis"</span>,</span></span>
<span class="r-in"><span>     genus <span class="op">=</span> <span class="st">"Alligator"</span>, subfamily <span class="op">=</span> <span class="st">"Alligatorinae"</span>, family <span class="op">=</span> <span class="st">"Alligatoridae"</span>,</span></span>
<span class="r-in"><span>     order <span class="op">=</span> <span class="st">"Crocodylia"</span>, clade <span class="op">=</span> <span class="st">"Archosauria"</span>, clade.1 <span class="op">=</span> <span class="st">"Archelosauria"</span>,</span></span>
<span class="r-in"><span>     clade.2 <span class="op">=</span> <span class="st">"Sauria"</span>, clade.3 <span class="op">=</span> <span class="st">"Sauropsida"</span>, clade.4 <span class="op">=</span> <span class="st">"Amniota"</span>,</span></span>
<span class="r-in"><span>     clade.5 <span class="op">=</span> <span class="st">"Tetrapoda"</span>, clade.6 <span class="op">=</span> <span class="st">"Dipnotetrapodomorpha"</span>, superclass <span class="op">=</span> <span class="st">"Sarcopterygii"</span>,</span></span>
<span class="r-in"><span>     clade.7 <span class="op">=</span> <span class="st">"Euteleostomi"</span>, clade.8 <span class="op">=</span> <span class="st">"Teleostomi"</span>, clade.9 <span class="op">=</span> <span class="st">"Gnathostomata"</span>,</span></span>
<span class="r-in"><span>     clade.10 <span class="op">=</span> <span class="st">"Vertebrata"</span>, subphylum <span class="op">=</span> <span class="st">"Craniata"</span>, phylum <span class="op">=</span> <span class="st">"Chordata"</span>,</span></span>
<span class="r-in"><span>     clade.11 <span class="op">=</span> <span class="st">"Deuterostomia"</span>, clade.12 <span class="op">=</span> <span class="st">"Bilateria"</span>, clade.13 <span class="op">=</span> <span class="st">"Eumetazoa"</span>,</span></span>
<span class="r-in"><span>     kingdom <span class="op">=</span> <span class="st">"Metazoa"</span>, clade.14 <span class="op">=</span> <span class="st">"Opisthokonta"</span>, domain <span class="op">=</span> <span class="st">"Eukaryota"</span>,</span></span>
<span class="r-in"><span>     <span class="st">'no rank'</span> <span class="op">=</span> <span class="st">"cellular organisms"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">normalizeTaxa</span><span class="op">(</span><span class="va">rawTaxa</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       _ROOT_.1             domain      domain.1       kingdom   kingdom.1  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81907 "cellular organisms" "Eukaryota" "Opisthokonta" "Metazoa" "Eumetazoa"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8496  "cellular organisms" "Eukaryota" "Opisthokonta" "Metazoa" "Eumetazoa"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38654 "cellular organisms" "Eukaryota" "Opisthokonta" "Metazoa" "Eumetazoa"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       kingdom.2   kingdom.3       phylum     subphylum  subphylum.1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81907 "Bilateria" "Deuterostomia" "Chordata" "Craniata" "Vertebrata"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8496  "Bilateria" "Deuterostomia" "Chordata" "Craniata" "Vertebrata"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38654 "Bilateria" "Deuterostomia" "Chordata" "Craniata" "Vertebrata"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       subphylum.2     subphylum.3  subphylum.4    superclass     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81907 "Gnathostomata" "Teleostomi" "Euteleostomi" "Sarcopterygii"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8496  "Gnathostomata" "Teleostomi" "Euteleostomi" "Sarcopterygii"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38654 "Gnathostomata" "Teleostomi" "Euteleostomi" "Sarcopterygii"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       superclass.1           superclass.2 superclass.3 superclass.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81907 "Dipnotetrapodomorpha" "Tetrapoda"  "Amniota"    "Sauropsida"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8496  "Dipnotetrapodomorpha" "Tetrapoda"  "Amniota"    "Sauropsida"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38654 "Dipnotetrapodomorpha" "Tetrapoda"  "Amniota"    "Sauropsida"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       superclass.5 superclass.6    superclass.7  superclass.8 superclass.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81907 "Sauria"     "Archelosauria" "Archosauria" "Dinosauria" "Saurischia"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8496  "Sauria"     "Archelosauria" "Archosauria" NA           NA          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38654 "Sauria"     "Archelosauria" "Archosauria" NA           NA          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       superclass.10 superclass.11   class  infraclass   superorder    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81907 "Theropoda"   "Coelurosauria" "Aves" "Neognathae" "Galloanserae"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8496  NA            NA              NA     NA           NA            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38654 NA            NA              NA     NA           NA            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       order         family          subfamily       genus      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81907 "Galliformes" "Megapodiidae"  NA              "Alectura" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8496  "Crocodylia"  "Alligatoridae" "Alligatorinae" "Alligator"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38654 "Crocodylia"  "Alligatoridae" "Alligatorinae" "Alligator"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       species                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81907 "Alectura lathami"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8496  "Alligator mississippiensis"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38654 "Alligator sinensis"        </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Scott Sherrill-Mix.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

